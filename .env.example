# =============================================================================
# CHIMERA - DIGITAL COMMAND CENTER
# =============================================================================
# Complete environment configuration for autonomous AI operations platform
# See VISION.md for architecture details
# Last updated: December 2024
# =============================================================================

PROJECT_NAME=chimera
NODE_ENV=development

# =============================================================================
# SUPABASE - DATABASE & AUTHENTICATION
# =============================================================================
# Get credentials from: https://supabase.com/dashboard/project/_/settings/api
# Documentation: https://supabase.com/docs

# Core Configuration
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key
SUPABASE_JWT_SECRET=your-jwt-secret

# New Publishable Key Format (2024+)
# SUPABASE_PUBLISHABLE_KEY=sb_publishable_xxx

# Realtime Configuration
SUPABASE_REALTIME_ENABLED=true
# For self-hosted: REPLICATION_MODE, SLOT_NAME, SECURE_CHANNELS

# =============================================================================
# AI MODELS - MULTI-AGENT ORCHESTRATION
# =============================================================================
# Powers the Team Channels in the Digital Command Center
# Model selection based on task complexity and cost optimization

# -----------------------------------------------------------------------------
# ANTHROPIC (Claude) - Primary Intelligence Layer
# -----------------------------------------------------------------------------
# Get key from: https://console.anthropic.com/
# Docs: https://docs.anthropic.com/

ANTHROPIC_API_KEY=sk-ant-xxx

# Latest Model IDs (as of late 2024/2025):
# - claude-opus-4-5-20251101      (Most capable, complex reasoning)
# - claude-sonnet-4-5-20250929    (Best coding, balanced)
# - claude-sonnet-4-20250514      (Previous generation)
# - claude-haiku-4-5-20251001     (Fast, cost-efficient)

# Model Selection by Role
ANTHROPIC_ORCHESTRATOR_MODEL=claude-sonnet-4-5-20250929
ANTHROPIC_WORKER_MODEL=claude-sonnet-4-5-20250929
ANTHROPIC_MONITOR_MODEL=claude-haiku-4-5-20251001
ANTHROPIC_REASONING_MODEL=claude-opus-4-5-20251101

# Extended Thinking (for complex tasks)
ANTHROPIC_ENABLE_EXTENDED_THINKING=true
ANTHROPIC_MAX_THINKING_TOKENS=10000

# -----------------------------------------------------------------------------
# GOOGLE (Gemini) - Alternative Generation & Diversity
# -----------------------------------------------------------------------------
# Get key from: https://aistudio.google.com/apikey
# Docs: https://ai.google.dev/gemini-api/docs

GOOGLE_AI_API_KEY=xxx

# Latest Model IDs:
# - gemini-2.0-flash-001          (Fast, multimodal, 1M context)
# - gemini-2.0-flash-lite-001     (Most cost-efficient)
# - gemini-2.0-pro-001            (Best for coding/complex prompts)
# - gemini-3-pro-preview          (Latest frontier - preview)

GOOGLE_MODEL=gemini-2.0-flash-001
GOOGLE_FLASH_MODEL=gemini-2.0-flash-001
GOOGLE_PRO_MODEL=gemini-2.0-pro-001

# -----------------------------------------------------------------------------
# OPENROUTER - Multi-Model Routing & Fallbacks
# -----------------------------------------------------------------------------
# Get key from: https://openrouter.ai/keys
# Docs: https://openrouter.ai/docs
# Access 400+ models through one API

OPENROUTER_API_KEY=sk-or-xxx
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1

# App attribution (for leaderboard)
OPENROUTER_APP_URL=https://your-app.com
OPENROUTER_APP_TITLE=Chimera

# Default fallback model
OPENROUTER_DEFAULT_MODEL=anthropic/claude-sonnet-4

# =============================================================================
# MCP TOOLS - AGENT CAPABILITIES
# =============================================================================
# Model Context Protocol servers extend agent abilities

# -----------------------------------------------------------------------------
# EXA - Web Search & Research
# -----------------------------------------------------------------------------
# Get key from: https://exa.ai/
# Powerful semantic search for agents
EXA_API_KEY=xxx

# -----------------------------------------------------------------------------
# REF - Documentation Lookup
# -----------------------------------------------------------------------------
# Get key from: https://ref.tools/
# Real-time documentation retrieval
REF_TOOLS_API_KEY=xxx

# -----------------------------------------------------------------------------
# Playwright - Browser Automation
# -----------------------------------------------------------------------------
# No API key needed - uses local browser
# Configuration in .mcp.json

# =============================================================================
# REAL-TIME FEATURES
# =============================================================================
# WebSocket configuration for live thought streams and updates

WEBSOCKET_URL=ws://localhost:8888/ws
ENABLE_REALTIME=true

# Pusher (alternative real-time provider)
# PUSHER_APP_ID=xxx
# PUSHER_KEY=xxx
# PUSHER_SECRET=xxx
# PUSHER_CLUSTER=us2

# =============================================================================
# OBSERVABILITY & MONITORING
# =============================================================================

# -----------------------------------------------------------------------------
# LANGFUSE - LLM Tracing & Analytics
# -----------------------------------------------------------------------------
# Get keys from: https://langfuse.com/ or self-host
# Docs: https://langfuse.com/docs

LANGFUSE_SECRET_KEY=sk-lf-xxx
LANGFUSE_PUBLIC_KEY=pk-lf-xxx
LANGFUSE_HOST=https://cloud.langfuse.com

# Enable/disable tracing
LANGFUSE_ENABLED=true
LANGFUSE_RELEASE=1.0.0

# -----------------------------------------------------------------------------
# SENTRY - Error Tracking
# -----------------------------------------------------------------------------
# Get DSN from: https://sentry.io/
SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx
SENTRY_ORG=your-org
SENTRY_PROJECT=chimera

# -----------------------------------------------------------------------------
# POSTHOG - Product Analytics
# -----------------------------------------------------------------------------
# Get key from: https://posthog.com/
NEXT_PUBLIC_POSTHOG_KEY=phc_xxx
NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com

# =============================================================================
# LIVE PREVIEW - SANDPACK
# =============================================================================
# Code playground configuration for Team Channels
# Docs: https://sandpack.codesandbox.io/

SANDPACK_ENABLED=true
SANDPACK_THEME=dark
# Templates: react, vue, vanilla, angular, svelte, solid, nextjs

# =============================================================================
# ASSET MANAGEMENT - CLOUDINARY
# =============================================================================
# Get credentials from: https://cloudinary.com/console
# Docs: https://cloudinary.com/documentation

CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=xxx
CLOUDINARY_API_SECRET=xxx
CLOUDINARY_URL=cloudinary://API_KEY:API_SECRET@CLOUD_NAME

# Upload presets for different asset types
CLOUDINARY_UPLOAD_PRESET=chimera_uploads

# =============================================================================
# CODE EXPORT & VERSION CONTROL
# =============================================================================

# -----------------------------------------------------------------------------
# GITHUB - Repository Integration
# -----------------------------------------------------------------------------
# Get token from: https://github.com/settings/tokens
GITHUB_TOKEN=ghp_xxx
GITHUB_OWNER=CleanExpo
GITHUB_REPO=Chimera

# GitHub App (for advanced features)
# GITHUB_APP_ID=xxx
# GITHUB_APP_PRIVATE_KEY=xxx
# GITHUB_WEBHOOK_SECRET=xxx

# =============================================================================
# AUTHENTICATION PROVIDERS
# =============================================================================
# Configure additional OAuth providers beyond Supabase Auth

# Google OAuth
GOOGLE_CLIENT_ID=xxx.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=xxx

# GitHub OAuth
GITHUB_CLIENT_ID=xxx
GITHUB_CLIENT_SECRET=xxx

# Discord OAuth (optional)
# DISCORD_CLIENT_ID=xxx
# DISCORD_CLIENT_SECRET=xxx

# =============================================================================
# PAYMENTS - STRIPE
# =============================================================================
# Get keys from: https://dashboard.stripe.com/apikeys
# Docs: https://stripe.com/docs

STRIPE_SECRET_KEY=sk_test_xxx
STRIPE_PUBLISHABLE_KEY=pk_test_xxx
STRIPE_WEBHOOK_SECRET=whsec_xxx

# Price IDs for subscription tiers
STRIPE_PRICE_PRO=price_xxx
STRIPE_PRICE_TEAM=price_xxx
STRIPE_PRICE_ENTERPRISE=price_xxx

# =============================================================================
# EMAIL - RESEND
# =============================================================================
# Get key from: https://resend.com/
# Alternative: SendGrid, Postmark

RESEND_API_KEY=re_xxx
EMAIL_FROM=noreply@your-domain.com
EMAIL_REPLY_TO=support@your-domain.com

# SendGrid alternative
# SENDGRID_API_KEY=SG.xxx

# =============================================================================
# CACHING - REDIS
# =============================================================================
# For rate limiting, caching, and session management
# Use Upstash for serverless: https://upstash.com/

REDIS_URL=redis://localhost:6379
# Or Upstash
UPSTASH_REDIS_REST_URL=https://xxx.upstash.io
UPSTASH_REDIS_REST_TOKEN=xxx

# =============================================================================
# SELF-HEALING CONFIGURATION
# =============================================================================
# Tiered Autonomy Settings (see VISION.md)
# Tier 1: Auto-fix (confidence > 0.95)
# Tier 2: Notify-then-execute (confidence > 0.80)
# Tier 3: Approval required (anything else)

AUTOFIX_CONFIDENCE_THRESHOLD=0.95
NOTIFY_CONFIDENCE_THRESHOLD=0.80

# Alert channels
ALERT_WEBHOOK_URL=https://hooks.slack.com/services/xxx
ALERT_EMAIL=alerts@your-domain.com

# =============================================================================
# SECURITY
# =============================================================================

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-min-32-chars
JWT_EXPIRY=7d
JWT_REFRESH_EXPIRY=30d

# Rate Limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# CORS Origins (comma-separated)
CORS_ORIGINS=http://localhost:3030,https://your-domain.com

# Encryption key for sensitive data
ENCRYPTION_KEY=your-32-char-encryption-key-here

# =============================================================================
# BACKEND API
# =============================================================================

BACKEND_URL=http://localhost:8888
BACKEND_API_KEY=your-internal-api-key

# FastAPI Configuration
FASTAPI_DEBUG=true
FASTAPI_WORKERS=4

# =============================================================================
# DEPLOYMENT
# =============================================================================

# -----------------------------------------------------------------------------
# VERCEL - Frontend Deployment
# -----------------------------------------------------------------------------
# Get token from: https://vercel.com/account/tokens
VERCEL_TOKEN=xxx
VERCEL_ORG_ID=xxx
VERCEL_PROJECT_ID=xxx

# -----------------------------------------------------------------------------
# DIGITALOCEAN - Backend Deployment
# -----------------------------------------------------------------------------
# Get token from: https://cloud.digitalocean.com/account/api/tokens
DO_API_TOKEN=xxx
DO_APP_ID=xxx

# Docker Registry (for containerized deployment)
DOCKER_REGISTRY=registry.digitalocean.com/your-registry
DOCKER_IMAGE_TAG=latest

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Toggle features on/off

FEATURE_MULTI_AGENT=true
FEATURE_LIVE_PREVIEW=true
FEATURE_SELF_HEALING=true
FEATURE_CODE_EXPORT=true
FEATURE_NATURAL_LANGUAGE_CHAT=true
FEATURE_INTERACTIVE_REFINEMENT=true

# =============================================================================
# DEVELOPMENT
# =============================================================================

# Debug mode (verbose logging)
DEBUG=true
LOG_LEVEL=debug

# Local development URLs
NEXT_PUBLIC_APP_URL=http://localhost:3030
NEXT_PUBLIC_API_URL=http://localhost:8888

# Skip certain validations in dev
SKIP_ENV_VALIDATION=false
